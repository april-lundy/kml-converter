<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" type="text/css" href="http://cdnjs.cloudflare.com/ajax/libs/meyer-reset/2.0/reset.css" />
        <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.css" />
        <style>
            #map {
                height: 200px;
            }
        </style>
    </head>
    <body>
        <div id="map"></div>
        <script src="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.js"></script>
        <script>
        // parse the hash to get points
        var pointsAsJson = decodeURIComponent(window.location.hash).substring(1);
        if(pointsAsJson.length < 2) {
            pointsAsJson = '[ { "x" : 38.8941386, "y" : -77.0236192 } ]'
        }
        var points = JSON.parse(pointsAsJson);

        // Stub out a map
        var map = L.map('map').setView([38.8941386,-77.0236192], 13);
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {          
            attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
        }).addTo(map);

        // map the points to the format that leaflet wants, and add to the map
        var leafletPolygon = points.map(function(point) {
            return [point.x, point.y];
        });

        var polygon = L.polygon(leafletPolygon);
        polygon.fill = true;
        polygon.fillColor = 'red';
        polygon.addTo(map);

        // now fit to the points
        map.fitBounds(leafletPolygon, { maxZoom: 17 });


        </script>
    </body>
</html>
